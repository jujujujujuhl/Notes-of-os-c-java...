## 线程同步/异步

| 特性         | 线程同步 (Synchronous)                          | 线程异步 (Asynchronous)                       |
|--------------|-----------------------------------------------|---------------------------------------------|
| **定义**     | 线程按顺序执行，一个操作完成才能执行下一个       | 线程独立执行，无需等待其他操作完成           |
| **执行方式** | 顺序阻塞式执行                                 | 并发非阻塞式执行                             |
| **控制流**   | 线性流程（A→B→C）                              | 并行流程（A、B、C同时启动）                  |
| **通信机制** | 共享内存、互斥锁、信号量、条件变量             | 回调函数、消息队列、Promise/Future          |
| **资源占用** | 线程可能因等待而阻塞，资源利用率较低           | 线程持续工作，资源利用率高                   |
| **复杂度**   | 编程简单，逻辑清晰                             | 编程复杂，需处理竞态条件和回调嵌套           |
| **适用场景** | 1. 严格顺序依赖的操作<br>2. 临界资源访问<br>3. 简单任务 | 1. I/O密集型操作<br>2. 高并发服务<br>3. 响应式系统 |
| **优点**     | 1. 逻辑简单易调试<br>2. 数据一致性易保证        | 1. 高吞吐量<br>2. 低延迟<br>3. 高资源利用率   |
| **缺点**     | 1. 潜在死锁风险<br>2. 性能瓶颈<br>3. 响应延迟   | 1. 调试困难<br>2. 回调地狱风险<br>3. 数据竞争   |

## Android唤醒锁

| 唤醒锁类型       | 别名/技术名称                  | 作用描述                                                                 | 使用场景                                                                 | 功耗影响               |
|------------------|------------------------------|-------------------------------------------------------------------------|-------------------------------------------------------------------------|-----------------------|
| **部分唤醒锁**   | CPU Wake Lock / Partial Wake Lock | 保持CPU运行但允许屏幕关闭。仅阻止设备进入深度休眠状态，屏幕可关闭。           | 后台音乐播放、文件下载、位置追踪等需要在屏幕关闭时继续运行的任务。            | 中等功耗 (CPU保持运行) |
| **绘制唤醒锁**   | Screen Wake Lock (分两种)     | 保持屏幕亮起（或变暗但不关闭）。确保用户界面保持可见状态。                    | 视频播放、导航应用、阅读应用、游戏等需要屏幕持续显示的场景。                  | 高功耗 (屏幕持续亮起)  |
|                  | - **全亮唤醒锁** (Full Bright) | 保持屏幕最高亮度亮起                                                        |                                                                         |                       |
|                  | - **变暗唤醒锁** (Dim)         | 保持屏幕亮起但降低亮度（如显示屏保）                                          |                                                                         |                       |
| **内核唤醒锁**   | Kernel Wake Lock / Wakelock   | 由内核驱动或硬件模块持有，阻止整个系统进入休眠状态。底层电源管理机制。          | 系统级操作（如OTA更新）、硬件事件处理（USB连接、充电状态）、传感器持续活动等。 | 根据硬件活动变化        |
